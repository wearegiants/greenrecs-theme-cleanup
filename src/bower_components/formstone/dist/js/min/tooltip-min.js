!function(t,e,o){"use strict";function i(t){this.on(g.mouseEnter,t,r)}function n(t){d(),this.off(g.namespace)}function r(t){d();var e=t.data;e.left=t.pageX,e.top=t.pageY,a(e)}function l(t){var e=t.data;h.clearTimer(e.timer),d()}function c(t){s(t.pageX,t.pageY)}function a(o){d();var i="";i+='<div class="',i+=[m.base,m[o.direction]].join(" "),i+='">',i+='<div class="'+m.content+'">',i+=o.formatter.call(o.$el,o),i+='<span class="'+m.caret+'"></span>',i+="</div>",i+="</div>",v={$tooltip:t(i),$el:o.$el},e.$body.append(v.$tooltip);var n=v.$tooltip.find(u.content),r=v.$tooltip.find(u.caret),a=o.$el.offset(),f=o.$el.outerHeight(),p=o.$el.outerWidth(),b=0,w=0,y=0,j=0,H=!1,W=!1,L=r.outerHeight(!0),M=r.outerWidth(!0),T=n.outerHeight(!0),X=n.outerWidth(!0);"right"===o.direction||"left"===o.direction?(W=(T-L)/2,j=-T/2,"right"===o.direction?y=o.margin:"left"===o.direction&&(y=-(X+o.margin))):(H=(X-M)/2,y=-X/2,"bottom"===o.direction?j=o.margin:"top"===o.direction&&(j=-(T+o.margin))),n.css({top:j,left:y}),r.css({top:W,left:H}),o.follow?o.$el.on(g.mouseMove,o,c):(o.match?"right"===o.direction||"left"===o.direction?(w=o.top,"right"===o.direction?b=a.left+p:"left"===o.direction&&(b=a.left)):(b=o.left,"bottom"===o.direction?w=a.top+f:"top"===o.direction&&(w=a.top)):"right"===o.direction||"left"===o.direction?(w=a.top+f/2,"right"===o.direction?b=a.left+p:"left"===o.direction&&(b=a.left)):(b=a.left+p/2,"bottom"===o.direction?w=a.top+f:"top"===o.direction&&(w=a.top)),s(b,w)),o.timer=h.startTimer(o.timer,o.delay,function(){v.$tooltip.addClass(m.visible)}),o.$el.one(g.mouseLeave,o,l)}function s(t,e){v&&v.$tooltip.css({left:t,top:e})}function d(){v&&(v.$el.off([g.mouseMove,g.mouseLeave].join(" ")),v.$tooltip.remove(),v=null)}function f(t){return this.data("title")}var p=e.Plugin("tooltip",{widget:!0,defaults:{delay:0,direction:"top",follow:!1,formatter:f,margin:15,match:!1},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:i,_destruct:n}}),u=p.classes,m=u.raw,g=p.events,h=p.functions,v=null}(jQuery,Formstone);