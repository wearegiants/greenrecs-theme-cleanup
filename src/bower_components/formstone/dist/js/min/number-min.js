!function(t,e,a){"use strict";function n(){g=e.$body}function s(t){var e=parseFloat(this.attr("min")),a=parseFloat(this.attr("max"));t.min=e||0===e?e:!1,t.max=a||0===a?a:!1,t.step=parseFloat(this.attr("step"))||1,t.timer=null,t.digits=c(t.step),t.disabled=this.prop("disabled");var n="";n+='<button type="button" class="'+[v.arrow,v.up].join(" ")+'">'+t.labels.up+"</button>",n+='<button type="button" class="'+[v.arrow,v.down].join(" ")+'">'+t.labels.down+"</button>",this.wrap('<div class="'+[v.base,t.customClass,t.disabled?v.disabled:""].join(" ")+'"></div>').after(n),t.$container=this.parent(f.base),t.$arrows=t.$container.find(f.arrow),this.on(w.keyPress,f.element,t,d),t.$container.on([w.touchStart,w.mouseDown].join(" "),f.arrow,t,l)}function i(t){t.$arrows.remove(),this.unwrap().off(w.namespace)}function r(t){t.disabled&&(this.prop("disabled",!1),t.$container.removeClass(v.disabled),t.disabled=!1)}function o(t){t.disabled||(this.prop("disabled",!0),t.$container.addClass(v.disabled),t.disabled=!0)}function d(t){var e=t.data;(38===t.keyCode||40===t.keyCode)&&(t.preventDefault(),p(e,38===t.keyCode?e.step:-e.step))}function l(e){h.killEvent(e),u(e);var a=e.data;if(!a.disabled){var n=t(e.target).hasClass(v.up)?a.step:-a.step;a.timer=h.startTimer(a.timer,110,function(){p(a,n,!1)},!0),p(a,n),g.on([w.touchEnd,w.mouseUp].join(" "),a,u)}}function u(t){h.killEvent(t);var e=t.data;h.clearTimer(e.timer,!0),g.off(w.namespace)}function p(e,a){var n=parseFloat(e.$el.val()),s=a;"undefined"===t.type(n)||isNaN(n)?s=e.min!==!1?e.min:0:e.min!==!1&&n<e.min?s=e.min:s+=n;var i=(s-e.min)%e.step;0!==i&&(s-=i),e.min!==!1&&s<e.min&&(s=e.min),e.max!==!1&&s>e.max&&(s-=e.step),s!==n&&(s=m(s,e.digits),e.$el.val(s).trigger(w.raw.change))}function c(t){var e=String(t);return e.indexOf(".")>-1?e.length-e.indexOf(".")-1:0}function m(t,e){var a=Math.pow(10,e);return Math.round(t*a)/a}var b=e.Plugin("number",{widget:!0,defaults:{customClass:"",labels:{up:"Up",down:"Down"}},classes:["arrow","up","down","disabled"],methods:{_setup:n,_construct:s,_destruct:i,enable:r,disable:o},events:{tap:"tap"}}),f=b.classes,v=f.raw,w=b.events,h=b.functions,g=null}(jQuery,Formstone);