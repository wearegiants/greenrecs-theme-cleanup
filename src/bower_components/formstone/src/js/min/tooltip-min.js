!function($,t,e){"use strict";function o(t){this.on(m.mouseEnter,t,n)}function i(t){s(),this.off(m.namespace)}function n(t){s();var e=t.data;e.left=t.pageX,e.top=t.pageY,c(e)}function r(t){var e=t.data;g.clearTimer(e.timer),s()}function l(t){a(t.pageX,t.pageY)}function c(e){s();var o="";o+='<div class="',o+=[u.base,u[e.direction]].join(" "),o+='">',o+='<div class="'+u.content+'">',o+=e.formatter.call(e.$el,e),o+='<span class="'+u.caret+'"></span>',o+="</div>",o+="</div>",h={$tooltip:$(o),$el:e.$el},t.$body.append(h.$tooltip);var i=h.$tooltip.find(p.content),n=h.$tooltip.find(p.caret),c=e.$el.offset(),d=e.$el.outerHeight(),f=e.$el.outerWidth(),v=0,b=0,w=0,y=0,j=!1,H=!1,W=n.outerHeight(!0),L=n.outerWidth(!0),M=i.outerHeight(!0),T=i.outerWidth(!0);"right"===e.direction||"left"===e.direction?(H=(M-W)/2,y=-M/2,"right"===e.direction?w=e.margin:"left"===e.direction&&(w=-(T+e.margin))):(j=(T-L)/2,w=-T/2,"bottom"===e.direction?y=e.margin:"top"===e.direction&&(y=-(M+e.margin))),i.css({top:y,left:w}),n.css({top:H,left:j}),e.follow?e.$el.on(m.mouseMove,e,l):(e.match?"right"===e.direction||"left"===e.direction?(b=e.top,"right"===e.direction?v=c.left+f:"left"===e.direction&&(v=c.left)):(v=e.left,"bottom"===e.direction?b=c.top+d:"top"===e.direction&&(b=c.top)):"right"===e.direction||"left"===e.direction?(b=c.top+d/2,"right"===e.direction?v=c.left+f:"left"===e.direction&&(v=c.left)):(v=c.left+f/2,"bottom"===e.direction?b=c.top+d:"top"===e.direction&&(b=c.top)),a(v,b)),e.timer=g.startTimer(e.timer,e.delay,function(){h.$tooltip.addClass(u.visible)}),e.$el.one(m.mouseLeave,e,r)}function a(t,e){h&&h.$tooltip.css({left:t,top:e})}function s(){h&&(h.$el.off([m.mouseMove,m.mouseLeave].join(" ")),h.$tooltip.remove(),h=null)}function d(t){return this.data("title")}var f=t.Plugin("tooltip",{widget:!0,defaults:{delay:0,direction:"top",follow:!1,formatter:d,margin:15,match:!1},classes:["content","caret","visible","top","bottom","right","left"],methods:{_construct:o,_destruct:i}}),p=f.classes,u=p.raw,m=f.events,g=f.functions,h=null}(jQuery,Formstone);