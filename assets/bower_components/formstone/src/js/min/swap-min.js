!function($,a,e){"use strict";function t(a){a.enabled=!1,a.active=!1,a.classes=$.extend(!0,{},v,a.classes),a.target=this.data(o+"-target"),a.$target=$(a.target).addClass(a.classes.raw.target),a.linked=this.data(o+"-linked"),a.mq="(max-width:"+(1/0===a.maxWidth?"100000px":a.maxWidth)+")",a.mqGuid=a.classes.raw.base+"__"+b++;var e=this.data(o+"-group");a.group=e?"[data-"+o+'-group="'+e+'"]':!1,!a.collapse&&a.group&&$(a.group).eq(0).attr("data-"+o+"-active","true"),a.onEnable=this.data(o+"-active"),a.$swaps=$().add(this).add(a.$target),this.touch({tap:!0}).on(u.tap,a,d),$.mediaquery("bind",a.mqGuid,a.mq,{enter:function(){n.call(a.$el,a)},leave:function(){c.call(a.$el,a)}})}function s(a){$.mediaquery("unbind",a.mqGuid,a.mq),a.$swaps.removeClass([a.classes.raw.enabled,a.classes.raw.active].join(" ")).off(u.namespace),this.touch("destroy")}function i(a,e){if(a.enabled&&!a.active){$(a.group).not(a.$el)[r.namespace]("deactivate");var t=a.group?$(a.group).index(a.$el):null;a.$swaps.addClass(a.classes.raw.active),e||$(a.linked).not(a.$el).swap("activate",!0),this.trigger(u.activate,[t]),a.active=!0}}function l(a,e){a.enabled&&a.active&&(a.$swaps.removeClass(a.classes.raw.active),e||$(a.linked).not(a.$el).swap("deactivate",!0),this.trigger(u.deactivate),a.active=!1)}function n(a,e){a.enabled||(a.$swaps.addClass(a.classes.raw.enabled),e||$(a.linked).not(a.$el).swap("enable"),a.enabled=!0,this.trigger(u.enable),a.onEnable?(a.active=!0,a.$swaps.addClass(a.classes.raw.active)):(a.active=!0,l.call(this,a)))}function c(a,e){a.enabled&&(a.$swaps.removeClass([a.classes.raw.enabled,a.classes.raw.active].join(" ")),e||$(a.linked).not(a.$el).swap("disable"),this.trigger(u.disable),a.enabled=!1)}function d(a){p.killEvent(a);var e=a.data;e.active&&e.collapse?l.call(e.$el,e):i.call(e.$el,e)}var r=a.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{tap:"tap",activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:t,_destruct:s,activate:i,deactivate:l,enable:n,disable:c}}),o=r.namespace,v=r.classes,u=r.events,p=r.functions,b=0}(jQuery,Formstone);