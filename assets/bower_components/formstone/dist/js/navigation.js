/*! Formstone v0.4.3 [navigation.js] 2015-04-04 | MIT License | formstone.it */

!function(a,b,c){"use strict";function d(){u=a("html, body")}function e(b){b.guid="__"+t++,b.eventGuid=s.namespace+b.guid,b.rawGuid=r.base+b.guid,b.classGuid="."+b.rawGuid,b.isToggle="toggle"===b.type,b.isToggle&&(b.gravity="");var c=r.base,d=[c,b.type].join("-"),e=b.gravity?[d,b.gravity].join("-"):"",f=[b.rawGuid,b.customClass].join(" ");b.handle=this.data(p+"-handle"),b.content=this.data(p+"-content"),b.handleClasses=[r.handle,r.handle.replace(c,d),r.handle.replace(c,e),f].join(" "),b.navClasses=[r.nav.replace(c,d),r.nav.replace(c,e),f].join(" "),b.contentClasses=[r.content.replace(c,d),r.content.replace(c,e),f].join(" "),b.$nav=this.addClass(b.navClasses),b.$handle=a(b.handle).addClass(b.handleClasses),b.$content=a(b.content).addClass(b.contentClasses),b.$animate=a().add(b.$nav).add(b.$content),b.label&&(b.originalLabel=b.$handle.text()),b.$handle.attr("data-swap-target",b.classGuid).on("activate.swap"+b.eventGuid,b,k).on("deactivate.swap"+b.eventGuid,b,l).on("enable.swap"+b.eventGuid,b,m).on("disable.swap"+b.eventGuid,b,n).swap({maxWidth:b.maxWidth,classes:{target:b.classGuid,enabled:q.enabled,active:q.open,raw:{target:b.rawGuid,enabled:r.enabled,active:r.open}}})}function f(a){a.$content.removeClass(a.contentClasses).off(s.namespace),a.$handle.attr("data-swap-target","").removeClass(a.handleClasses).off(a.eventGuid).text(a.originalLabel).swap("destroy"),this.removeClass(a.navClasses).off(s.namespace)}function g(a){a.$handle.swap("activate")}function h(a){a.$handle.swap("deactivate")}function i(a){a.$handle.swap("enable")}function j(a){a.$handle.swap("disable")}function k(a){var b=a.data;b.$el.trigger(s.open),b.$content.addClass(r.open).one(s.clickTouchStart,function(){h(b)}),b.label&&b.$handle.text(b.labels.open),b.isToggle||u.addClass(r.lock)}function l(a){var b=a.data;b.$el.trigger(s.close),b.$content.removeClass(r.open).off(s.namespace),b.label&&b.$handle.text(b.labels.closed),b.isToggle||u.removeClass(r.lock)}function m(a){var b=a.data;b.$content.addClass(r.enabled),setTimeout(function(){b.$animate.addClass(r.animated)},0),b.label&&b.$handle.text(b.labels.closed)}function n(a){var b=a.data;b.$content.removeClass(r.enabled,r.animated),b.$animate.removeClass(r.animated),b.label&&b.$handle.text(b.originalLabel)}var o=b.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",type:"toggle"},classes:["handle","nav","content","animated","enabled","open","toggle","push","overlay","left","right","lock"],events:{tap:"tap",open:"open",close:"close"},methods:{_setup:d,_construct:e,_destruct:f,open:g,close:h,enable:i,disable:j}}),p=o.namespace,q=o.classes,r=q.raw,s=o.events,t=(o.functions,0),u=null}(jQuery,Formstone);